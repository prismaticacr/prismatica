---
// PortfolioSection.astro
const projects = [
  {
    title: "E-commerce Premium",
    category: "Desarrollo Web",
    description:
      "Plataforma de comercio electrónico con integración de pagos y gestión de inventario automatizada.",
    image:
      "https://images.unsplash.com/photo-1661956602116-aa6865609028?w=600&h=400&fit=crop",
    tags: ["React", "Node.js", "Stripe"],
  },
  /*{
    title: "Sistema de Automatización",
    category: "Automatización",
    description:
      "Flujos automatizados que conectan CRM, email marketing y gestión de clientes en tiempo real.",
    image:
      "https://images.unsplash.com/photo-1518770660439-4636190af475?w=600&h=400&fit=crop",
    tags: ["n8n", "APIs", "Zapier"],
  },
  {
    title: "Dashboard Analítico",
    category: "Data & BI",
    description:
      "Panel de control interactivo con visualización de datos en tiempo real y reportes automatizados.",
    image:
      "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=600&h=400&fit=crop",
    tags: ["React", "D3.js", "PostgreSQL"],
  },
  {
    title: "Agente IA Personalizado",
    category: "Inteligencia Artificial",
    description:
      "Asistente virtual inteligente para atención al cliente 24/7 con procesamiento de lenguaje natural.",
    image:
      "https://images.unsplash.com/photo-1677442136019-21780ecad995?w=600&h=400&fit=crop",
    tags: ["OpenAI", "Python", "LangChain"],
  },*/
];

const clients = [
  "TechCorp",
  "InnovateLab",
  "DigitalFirst",
  "CloudSystems",
  "DataDriven",
  "SmartSolutions",
];
---

<section id="portfolio" class="border-b relative py-24 sm:py-32 overflow-hidden bg-[white]/2">
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section header -->
    <div class="text-center mb-16 section-header">
      <span class="text-[#00D6A1] font-medium text-sm uppercase tracking-wider"
        >NUESTRO TRABAJO</span
      >
      <h2
        class="font-heading text-3xl sm:text-4xl lg:text-5xl font-bold mt-3 mb-6 text-white"
      >
        Portfolio de <span class="text-[#00D6A1]">Proyectos</span>
      </h2>
      <p class="text-gray-400 max-w-2xl mx-auto text-lg">
        Descubre algunos de los proyectos que hemos desarrollado para nuestros
        clientes.
      </p>
    </div>

    <!-- Projects grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-20">
      {
        projects.map((project, index) => (
          <div
            class="group project-card"
            style={`animation-delay: ${index * 0.1}s`}
          >
            <div class="relative project-card-inner bg-[#0a0b1a] backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden transition-all duration-400">
              <!-- Glow effect on hover -->
              <div class="absolute inset-0 rounded-2xl bg-linear-to-r from-[#00D6A1]/0 via-[#00D6A1]/0 to-[#00D6A1]/0 opacity-0 group-hover:from-[#00D6A1]/20 group-hover:via-[#00D6A1]/40 group-hover:to-[#00D6A1]/20 group-hover:opacity-40 transition-all duration-500 blur-xl pointer-events-none" />
              
              <!-- Border glow -->
              <div class="absolute inset-0 rounded-2xl border-2 border-transparent group-hover:border-[#00D6A1]/80 transition-all duration-500 glow-border pointer-events-none" />

              <div class="relative z-10">
                <!-- Image -->
                <div class="relative h-56 overflow-hidden">
                  <img
                    src={project.image}
                    alt={project.title}
                    class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                  />
                  <div class="absolute inset-0 bg-linear-to-t from-[#0a0b1a] via-[#0a0b1a]/60 to-transparent" />

                  <!-- Overlay with "Ver Proyecto" button -->
                  <div class="absolute inset-0 flex items-center justify-center bg-[#0a0b1a]/80 opacity-0 group-hover:opacity-100 transition-all duration-500">
                    <button class="bg-[#00D6A1] hover:bg-[#00D6A1]/90 text-[#0a0b1a] px-6 py-3 rounded-lg inline-flex items-center text-sm font-bold transform translate-y-4 group-hover:translate-y-0 transition-all duration-500 shadow-lg">
                      <svg
                        class="w-5 h-5 mr-2"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
                        />
                      </svg>
                      Ver Proyecto
                    </button>
                  </div>
                </div>

                <!-- Content -->
                <div class="p-6">
                  <span class="text-[#00D6A1] text-sm font-medium">
                    {project.category}
                  </span>
                  <h3 class="font-heading text-xl font-semibold mt-2 mb-3 text-white  transition-colors duration-300">
                    {project.title}
                  </h3>
                  <p class="text-gray-400 text-sm leading-relaxed mb-4">
                    {project.description}
                  </p>

                  <!-- Tags -->
                  <div class="flex flex-wrap gap-2">
                    {project.tags.map((tag) => (
                      <span class="px-3 py-1 rounded-full bg-white/5 border border-white/10 text-xs font-medium text-gray-400">
                        {tag}
                      </span>
                    ))}
                  </div>
                </div>
              </div>
            </div>
          </div>
        ))
      }
    </div>

    <!-- Clients section 
    <div class="text-center clients-section">
      <h3 class="font-heading text-xl font-semibold mb-8 text-gray-400">
        Empresas que confían en nosotros
      </h3>

      <div class="relative overflow-hidden py-4">
        <div class="flex animate-marquee">
          {
            [...clients, ...clients].map((client, index) => (
              <div class="shrink-0 mx-8 px-8 py-4 bg-white/5 backdrop-blur-xl border border-white/10 rounded-lg hover:border-[#00D6A1]/90 transition-all duration-300">
                <span class="font-heading text-lg font-semibold text-gray-500 hover:text-[#00D6A1] transition-colors whitespace-nowrap">
                  {client}
                </span>
              </div>
            ))
          }
        </div>
      </div>
    </div>
-->
    <!-- CTA 
    <div class="text-center mt-12 cta-section">
      <button
        class="bg-[#00D6A1] hover:bg-[#00D6A1]/90 text-[#0a0b1a] font-bold px-8 py-3 rounded-lg inline-flex items-center group transition-all duration-300 shadow-lg hover:shadow-[#00D6A1]/50"
      >
        Ver Todos los Proyectos
        <svg
          class="ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
        </svg>
      </button>
    </div> -->
  </div>
</section>

<script>
  // Intersection observer for scroll animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: "0px 0px -100px 0px",
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("animate-in");
      }
    });
  }, observerOptions);

  const sectionHeader = document.querySelector(".section-header");
  const projectCards = document.querySelectorAll(".project-card");
  const clientsSection = document.querySelector(".clients-section");
  const ctaSection = document.querySelector(".cta-section");

  if (sectionHeader) observer.observe(sectionHeader);
  projectCards.forEach((card) => observer.observe(card));
  if (clientsSection) observer.observe(clientsSection);
  if (ctaSection) observer.observe(ctaSection);
</script>

<style>
  /* Starfield background */
  .starfield {
    background-image: 
      radial-gradient(2px 2px at 20px 30px, white, transparent),
      radial-gradient(2px 2px at 60px 70px, white, transparent),
      radial-gradient(1px 1px at 50px 50px, white, transparent),
      radial-gradient(1px 1px at 130px 80px, white, transparent),
      radial-gradient(2px 2px at 90px 10px, white, transparent);
    background-size: 200px 200px;
    background-position: 0 0, 40px 60px, 130px 270px, 70px 100px, 150px 50px;
    animation: stars 120s linear infinite;
  }

  .starfield::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      radial-gradient(1px 1px at 40px 60px, white, transparent),
      radial-gradient(1px 1px at 110px 90px, white, transparent),
      radial-gradient(1px 1px at 175px 30px, white, transparent),
      radial-gradient(2px 2px at 70px 150px, white, transparent);
    background-size: 250px 250px;
    background-position: 0 0, 60px 80px, 140px 220px, 90px 120px;
    opacity: 0.5;
    animation: stars 180s linear infinite;
  }

  @keyframes stars {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(-200px);
    }
  }

  /* Glowing border effect */
  .glow-border {
    box-shadow: 0 0 0px rgba(0, 214, 161, 0);
    transition: box-shadow 0.5s ease-in-out;
  }

  .group:hover .glow-border {
    box-shadow: 
      0 0 20px rgba(0, 214, 161, 0.5),
      0 0 40px rgba(0, 214, 161, 0.3),
      0 0 60px rgba(0, 214, 161, 0.1),
      inset 0 0 20px rgba(0, 214, 161, 0.1);
  }

  /* Card hover effects */
  .project-card-inner {
    transform: translateY(0);
  }

  .group:hover .project-card-inner {
    transform: translateY(-5px);
  }

  /* Section header animation */
  .section-header {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .section-header.animate-in {
    opacity: 1;
    transform: translateY(0);
  }

  /* Project cards animation */
  .project-card {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
  }

  .project-card.animate-in {
    opacity: 1;
    transform: translateY(0);
  }

  /* Clients section animation */
  .clients-section {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .clients-section.animate-in {
    opacity: 1;
    transform: translateY(0);
  }

  /* CTA section animation */
  .cta-section {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out 0.2s, transform 0.6s ease-out 0.2s;
  }

  .cta-section.animate-in {
    opacity: 1;
    transform: translateY(0);
  }

  /* Marquee animation */
  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .animate-marquee {
    animation: marquee 30s linear infinite;
  }

  .animate-marquee:hover {
    animation-play-state: paused;
  }
</style>