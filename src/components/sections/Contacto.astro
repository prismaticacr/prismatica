---
// ContactSection.astro
const contactInfo = [
  { icon: "mail", label: "Email", value: "infoprismaticacr@gmail.com" },
  { icon: "phone", label: "Teléfono", value: "+506 8618-0352" },
  { icon: "mapPin", label: "Ubicación", value: "Costa Rica" },
];
---

<section id="contacto" class="relative py-16 sm:py-24 lg:py-32 overflow-hidden">
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-20">

      <!-- LEFT: INFO -->
      <div class="contact-info">
        <span class="text-[#00D6A1] font-medium text-sm uppercase tracking-wider">
          CONTACTO
        </span>

        <h2 class="font-heading text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mt-3 mb-4 sm:mb-6 text-white">
          ¿Listo para <span class="text-[#00D6A1]">Empezar</span>?
        </h2>

        <p class="text-gray-400 text-base sm:text-lg mb-8 sm:mb-10">
          Cuéntanos sobre tu proyecto y te ayudaremos a hacerlo realidad.
          Nuestro equipo está listo para transformar tus ideas.
        </p>

        <div class="space-y-4 sm:space-y-6">
          {contactInfo.map((item, index) => (
            <div
              class="flex items-center gap-3 sm:gap-4 contact-item"
              style={`animation-delay: ${index * 0.1}s`}
            >
              <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[#00D6A1]/10 text-[#00D6A1] flex items-center justify-center shrink-0">

                {item.icon === "mail" && (
                  <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                  </svg>
                )}

                {item.icon === "phone" && (
                  <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                  </svg>
                )}

                {item.icon === "mapPin" && (
                  <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                )}

              </div>

              <div>
                <span class="text-xs sm:text-sm text-gray-500">{item.label}</span>
                <p class="font-medium text-sm sm:text-base text-white break-all">
                  {item.value}
                </p>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- RIGHT: FORM -->
      <div class="contact-form">
        <form
          name="contact"
          method="POST"
          data-netlify="true"
          netlify-honeypot="bot-field"
          class="bg-gray-900/50 sm:bg-gray-900 backdrop-blur-xl border border-white/10 rounded-xl sm:rounded-2xl p-6 sm:p-8"
        >

          <!-- Netlify required -->
          <input type="hidden" name="form-name" value="contact" />
          <p class="hidden">
            <label>
              Don’t fill this out if you're human:
              <input name="bot-field" />
            </label>
          </p>

          <div class="space-y-4 sm:space-y-6">
            <div>
              <label class="text-xs sm:text-sm font-medium mb-2 block text-white">
                Nombre Completo
              </label>
              <input
                type="text"
                name="name"
                placeholder="Tu nombre"
                required
                class="w-full px-3 py-2.5 sm:px-4 sm:py-3 bg-[#0a0b1a]/40 border border-white/10 rounded-lg text-white placeholder:text-gray-500 focus:border-[#00D6A1] focus:ring-2 focus:ring-[#00D6A1]/20"
              />
            </div>

            <div>
              <label class="text-xs sm:text-sm font-medium mb-2 block text-white">
                Correo Electrónico
              </label>
              <input
                type="email"
                name="email"
                placeholder="tu@email.com"
                required
                class="w-full px-3 py-2.5 sm:px-4 sm:py-3 bg-[#0a0b1a]/40 border border-white/10 rounded-lg text-white placeholder:text-gray-500 focus:border-[#00D6A1] focus:ring-2 focus:ring-[#00D6A1]/20"
              />
            </div>

            <div>
              <label class="text-xs sm:text-sm font-medium mb-2 block text-white">
                Mensaje
              </label>
              <textarea
                name="message"
                rows="5"
                placeholder="Cuéntanos sobre tu proyecto..."
                required
                class="w-full px-3 py-2.5 sm:px-4 sm:py-3 bg-[#0a0b1a]/40 border border-white/10 rounded-lg text-white placeholder:text-gray-500 focus:border-[#00D6A1] focus:ring-2 focus:ring-[#00D6A1]/20 resize-none"
              ></textarea>
            </div>

            <button
              type="submit"
              class="w-full bg-[#00D6A1] hover:bg-[#00D6A1]/90 text-[#0a0b1a] font-bold py-3 rounded-lg transition-all shadow-lg hover:shadow-[#00D6A1]/50"
            >
              Enviar Mensaje
            </button>
          </div>
        </form>
      </div>

    </div>
  </div>
</section>

<script>
  // Scroll animations
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("animate-in");
        }
      });
    },
    { threshold: 0.1 }
  );

  document.querySelector(".contact-info") && observer.observe(document.querySelector(".contact-info"));
  document.querySelector(".contact-form") && observer.observe(document.querySelector(".contact-form"));
  document.querySelectorAll(".contact-item").forEach((item) => observer.observe(item));
</script>

<style>
  .contact-info,
  .contact-form {
    opacity: 0;
    transition: opacity 0.6s ease, transform 0.6s ease;
  }

  @media (min-width: 1024px) {
    .contact-info { transform: translateX(-30px); }
    .contact-form { transform: translateX(30px); }
  }

  @media (max-width: 1023px) {
    .contact-info { transform: translateY(-20px); }
    .contact-form { transform: translateY(20px); }
  }

  .animate-in {
    opacity: 1;
    transform: translate(0, 0);
  }

  .contact-item {
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }

  .contact-item.animate-in {
    opacity: 1;
    transform: translateY(0);
  }
</style>
